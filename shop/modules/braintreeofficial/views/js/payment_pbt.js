/*! For license information please see payment_pbt.js.LICENSE */
!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}({0:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r}));var a=function(t){$(".defaultForm").removeClass("bt-settings-link-on"),$(".page-head-tabs a").removeClass("bt-settings-link-on bt__border-b-primary"),t.addClass("bt-settings-link-on"),$("html, body").animate({scrollTop:"".concat(t.offset().top-200,"px")},900)},o=function(){var t=document.querySelectorAll(".page-head-tabs a"),e=$(".page-head-tabs a.current");t.forEach((function(t){var n=$(t).attr("href").includes("AdminBraintreeOfficialCustomizeCheckout"),a=$(t).attr("href").includes("AdminBraintreeOfficialSetup");(e.attr("href").includes("AdminBraintreeOfficialCustomizeCheckout")&&a||e.attr("href").includes("AdminBraintreeOfficialSetup")&&n)&&$(t).addClass("bt-settings-link-on bt__border-b-primary")})),$("html, body").animate({scrollTop:"".concat($(".page-head-tabs").offset().top-200,"px")},900)},r=function(t,e){t&&t.on("change",(function(t){0===t.target.selectedIndex?e.show():e.hide()}))}},7:function(t,e,n){"use strict";n.r(e);var a=n(0);$(document).ready((function(){function t(){$("[data-braintree-button]").removeClass("disabled")}$("#checkout-payment-step").hasClass("js-current-step")&&c("checkout"),$(document).on("change","input[name=save_account_in_vault]",(function(e){$("[data-braintree-button]").addClass("disabled"),setTimeout(t,1500),!0===e.target.checked?c("vault"):c("checkout")})),$(".js-payment-option-form").each((function(t){$("#payment-option-".concat(t,"-additional-information .payment_module")).hasClass("paypal-braintree")&&$("[data-bt-paypal-info]").insertAfter($("#payment-option-".concat(t,"-container label")))}));var e=o();$("[data-bt-paypal-info-popover]").popover({placement:e.popoverPlacement,trigger:e.popoverTrigger}),$(window).width()>991&&p();var n=$('[data-bt-vaulting-token="pbt"]'),r=$("[data-form-new-account]");n&&Object(a.c)(n,r)}));var o=function(){var t="right",e="hover";return $(window).width()<992&&(t="bottom",e="click"),{popoverPlacement:t,popoverTrigger:e}};$(document).click("[data-bt-paypal-info-popover] i",(function(t){i(t)}));var r=function(t){$("[data-bt-paypal-info-popover]").popover("hide"),$("body").removeClass("pp-popover"),t.text("info")},i=function(t){var e;$("[data-bt-paypal-info-popover]").popover("toggle"),0!=$(t.target).closest("[data-bt-paypal-info-popover]").length?(t.preventDefault(),"info"==$(t.target).text()?(e=$(t.target),$("[data-bt-paypal-info-popover]").popover("show"),$("body").addClass("pp-popover"),e.text("cancel")):r($(t.target))):r($("[data-bt-paypal-info] i"))},p=function(){$("[data-bt-paypal-info-popover] i").on("mouseover",(function(t){t.target.innerText="cancel",$("body").addClass("pp-popover")})),$("[data-bt-paypal-info-popover] i").on("mouseout",(function(t){t.target.innerText="info",$("[data-pp-info]").is(":visible")||$("body").removeClass("pp-popover")})),$("[data-bt-paypal-info-popover] i").on("click",(function(t){r($(t.target))}))},c=function(t){braintree.client.create({authorization:paypal_braintree_authorization},(function(e,n){e?console.error("Error creating client:",e):braintree.paypalCheckout.create({client:n},(function(e,n){e?$("[data-bt-pp-error-msg]").show().text(e):($("[data-braintree-button]").html(""),paypal.Button.render({locale:envLocale,env:paypal_braintree_mode,commit:!0,style:{tagline:!1},payment:function(){return n.createPayment({flow:t,amount:paypal_braintree_amount,currency:paypal_braintree_currency,billingAgreementDescription:"",enableShippingAddress:!1,shippingAddressEditable:!1})},onAuthorize:function(t,e){return n.tokenizePayment(t).then((function(t){$('[data-payment-method-nonce="pbt"]').val(t.nonce),$("[data-braintree-button]").hide(),$("[data-bt-pp-error-msg]").hide(),$("[data-bt-save-account]").hide(),$("[data-bt-vault-info]").show().append("".concat(t.details.firstName," ").concat(t.details.lastName," ").concat(t.details.email)),$("#conditions-to-approve input").prop("checked",!1)}))},onError:function(t){$("[data-bt-pp-error-msg]").show().text(t)}},"[data-braintree-button]").then((function(t){})))}))}))};window.BraintreePaypalSubmitPayment=function(t){if(!$('[data-payment-method-nonce="pbt"]').val()&&!$('[data-bt-vaulting-token="pbt"]').val())return $("[data-bt-pp-error-msg]").show().text(empty_nonce),!1;$("[data-braintree-paypal-form]").submit()}}});
//# sourceMappingURL=payment_pbt.js.map